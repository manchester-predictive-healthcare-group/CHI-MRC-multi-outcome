[{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/articles/overview.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"calibmsm: An R package for calibration plots of a multistate model using inverse probability of censoring weights","text":"vignette updated point. Saved old overview vignette vignette_overview_SAVE.Rmd (workflow folder). Currently planning use .Rnw file vignette, issue takes long render. Eventually move across.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexander Pate. Author, maintainer.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pate (2023). calibmsm: Calibration plots transition probabilities multistate models. R package version 0.0.0.9000, https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/.","code":"@Manual{,   title = {calibmsm: Calibration plots for the transition probabilities from multistate models},   author = {Alexander Pate},   year = {2023},   note = {R package version 0.0.0.9000},   url = {https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/}, }"},{"path":[]},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/index.html","id":"summary","dir":"","previous_headings":"","what":"Summary","title":"Calibration plots for the transition probabilities from multistate models","text":"toolbox aid estimation calibration plots multistate models developed. Calibration transition probabilities time t state j time s assessed. done using combination landmarking, calibration methods binary logistic multinomaial logistic regression models inverse probability censoring weights.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Calibration plots for the transition probabilities from multistate models","text":"package can installed CRAN follows:","code":"install.packages(\"calibmsm\")"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/index.html","id":"development-version","dir":"","previous_headings":"","what":"Development version","title":"Calibration plots for the transition probabilities from multistate models","text":"can install development version predRupdate GitHub ::","code":"# install.packages(\"devtools\") devtools::install_github(\"manchester-predictive-healthcare-group/CHI-MRC-multi-outcome/tree/main/Project%209%20calibmsm/pkgsrc\")"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Calibration plots for the transition probabilities from multistate models","text":"Example ","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Calibration plots for the transition probabilities from multistate models","text":"encounter bug, please file issue minimal reproducible example GitHub.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 calibmsm authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_blr.html","id":null,"dir":"Reference","previous_headings":"","what":"Create data for calibration curves using a binary logistic regression\r\nframework with inverse probability of censoring weights — calc_calib_blr","title":"Create data for calibration curves using a binary logistic regression\r\nframework with inverse probability of censoring weights — calc_calib_blr","text":"Creates underlying data calibration plots. Observed event probabilities time t.eval estimated inputted predicted transition probabilities tp.pred state j time s. calc_calib_blr estimates calibration curves using binary logistic framework combination landmarking inverse probability censoring weights. choice restricted cubic splines loess smoothers estimating calibration curve can made using curve.type. Two datasets cohort inidividuals must provided. msdata format dataset generated using mstate package. data.frame one row per individual, relevant variables estimating weights, time censoring varaible (dtcens) indicator (dtcens.s). Weights estimated using cox-proportional hazard model assuming linear functional form variables defined w.covs. urge users specify model estimating weights. Confidence intervals calibration curves can estimated using bootstrapping. procedure uses internal method estimating weights, therefore encourage users specify bootstrapping procedure, incorporates model estimating weights. Details provided vignette.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_blr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create data for calibration curves using a binary logistic regression\r\nframework with inverse probability of censoring weights — calc_calib_blr","text":"","code":"calc_calib_blr(   data.mstate,   data.raw,   j,   s,   t.eval,   tp.pred,   curve.type = \"rcs\",   rcs.nk = 3,   loess.span,   loess.degree,   weights = NULL,   w.covs,   w.landmark.type = \"state\",   w.max = 10,   w.stabilised = FALSE,   w.max.follow = NULL,   CI = FALSE,   CI.R.boot,   data.pred.plot = NULL,   transitions.out = NULL )"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_blr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create data for calibration curves using a binary logistic regression\r\nframework with inverse probability of censoring weights — calc_calib_blr","text":"data.mstate Validation data msdata format. data.raw Validation data data.frame (one row per individual). j Landmark state predictions made s Landmark time predictions made t.eval Follow time calibration assessed tp.pred Matrix predicted transition probabilities time t.eval, state j time s. must seperate column predicted transition probabilities every state, even predicted transition probabilities 0. curve.type Whether calibration curves estimated using restricted cubic splines ('rcs') loess smoothers ('loess') rcs.nk Number knots curves estimated using restricted cubic splines loess.span Span curves estimated using loess smoothers loess.degree Degree curves estimated using loess smoothers weights Vector inverse probability censoring weights w.covs Character vector variable names adjust calculating inverse probability censoring weights w.landmark.type Whether weights estimated individuals uncensored time s ('') individuals uncensored state j time s ('state') w.max Maximum bound inverse probability censoring weights w.stabilised Indicates whether inverse probability censoring weights stabilised w.max.follow Maximum follow model calculating inverse probability censoring weights. Reducing t.eval + 1 may aid proportional hazards assumption met model. CI Size confidence intervals % CI.R.boot Number bootstrap replicates estimating confidence interval calibration curve data.pred.plot Dataframe matrix predicted risks possible transition plot calibration curves. Must one column every possible transition. transitions.Transitions calculate calibration curves. possible transitions left NULL.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_mlr.html","id":null,"dir":"Reference","previous_headings":"","what":"Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights — calc_calib_mlr","title":"Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights — calc_calib_mlr","text":"Creates underlying data calibration plots. Observed event probabilities time t.eval estimated inputted predicted transition probabilities tp.pred state j time s. calc_calib_mlr estimates calibration scatter plots using multinomial logistic framework combination landmarking inverse probability censoring weights. Two datasets cohort inidividuals must provided. msdata format dataset generated using mstate package. data.frame one row per individual, relevant variables estimating weights, time censoring varaible (dtcens) indicator (dtcens.s). Weights estimated using cox-proportional hazard model assuming linear functional form variables defined w.covs. urge users specify modwl estimating weights. Confidence intervals calibration scatter plots produced currently unclear present data.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_mlr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights — calc_calib_mlr","text":"","code":"calc_calib_mlr(   data.mstate,   data.raw,   j,   s,   t.eval,   tp.pred,   smoother.type = \"sm.ps\",   ps.int = 4,   degree = 3,   s.df = 4,   niknots = 4,   weights = NULL,   w.covs,   w.landmark.type = \"state\",   w.max = 10,   w.stabilised = FALSE )"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_calib_mlr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights — calc_calib_mlr","text":"data.mstate Validation data msdata format. data.raw Validation data data.frame (one row per individual). j Landmark state predictions made s Landmark time predictions made t.eval Follow time calibration assessed tp.pred Vector predicted transition probabilities time t.eval smoother.type s, sm.os sm.ps ps.int number equally-spaced B spline intervals vector spline smoother (see VGAM::sm.ps) degree degree B-spline basis vector spline smoother (see VGAM::sm.ps) s.df degrees freedom vector spline (see VGAM::s) niknots number interior knots VGAM::sm.os weights Vector inverse probability censoring weights w.covs Character vector variable names adjust calculating inverse probability censoring weights w.landmark.type Whether weights estimated individuals uncensored time s ('') individuals uncensored state j time s ('state') w.max Maximum bound inverse probability censoring weights w.stabilised Indicates whether inverse probability censoring weights stabilised w.max.follow Maximum follow model calculating inverse probability censoring weights. Reducing t.eval + 1 may aid proportional hazards assumption met model.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights","text":"Calculate inverse probability censoring weights group individuals state j time s","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights","text":"","code":"calc_weights(   data.mstate,   data.raw,   covs,   t.eval,   s,   landmark.type = NULL,   j = NULL,   max.weight = 10,   stabilised = FALSE,   max.follow = NULL )"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights","text":"data.mstate Validation data msdata format data.raw Validation data data.frame (one row per individual) covs Character vector variable names adjust calculating inverse probability censoring weights t.eval Follow time calculate weights s Landmark time predictions made landmark.type Whether weights estimated individuals uncensored time s ('') individuals uncensored state j time s ('state') j Landmark state predictions made (required landmark.type = 'state') max.weight Maximum bound weights stabilised Indicates whether weights stabilised max.follow NEEDS BETTER DESCRIPTION Maximum follow model calculating inverse probability censoring weights","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights_OLD.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights_OLD","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights_OLD","text":"Calculate inverse probability censoring weights group individuals state j time s","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights_OLD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights_OLD","text":"","code":"calc_weights_OLD(   data.mstate,   data.raw,   covs,   t.eval,   s,   landmark.type = NULL,   j = NULL,   max.weight = 10,   stabilised = FALSE )"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calc_weights_OLD.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate inverse probability of censoring weights for a group of individuals in state j at time s — calc_weights_OLD","text":"data.mstate Validation data msdata format data.raw Validation data data.frame (one row per individual) covs Character vector variable names adjust calculating inverse probability censoring weights t.eval Follow time calculate weights s Landmark time predictions made landmark.type Whether weights estimated individuals uncensored time s ('') individuals uncensored state j time s ('state') j Landmark state predictions made (required landmark.type = 'state') max.weight Maximum bound weights stabilised Indicates whether weights stabilised ","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calibmsm-package.html","id":null,"dir":"Reference","previous_headings":"","what":"calibmsm: Calibration plots for the transition probabilities from multistate models — calibmsm-package","title":"calibmsm: Calibration plots for the transition probabilities from multistate models — calibmsm-package","text":"toolbox aid estimation calibration plots multistate models developed. Calibration transition probabilities time t state j time s assessed. done using combination landmarking, calibration methods binary logistic multinomaial logistic regression models inverse probability censoring weights.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/calibmsm-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"calibmsm: Calibration plots for the transition probabilities from multistate models — calibmsm-package","text":"Maintainer: Alexander Pate alexander.pate@manchester.ac.uk (ORCID)","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/ebmtcal.html","id":null,"dir":"Reference","previous_headings":"","what":"European Group for Blood and Marrow Transplantation data — ebmtcal","title":"European Group for Blood and Marrow Transplantation data — ebmtcal","text":"ebmt data format ready assess calibration","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/ebmtcal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"European Group for Blood and Marrow Transplantation data — ebmtcal","text":"","code":"ebmtcal"},{"path":[]},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/ebmtcal.html","id":"-ebmtcal-","dir":"Reference","previous_headings":"","what":"'ebmtcal'","title":"European Group for Blood and Marrow Transplantation data — ebmtcal","text":"data frame 2,279 rows 17 columns: id Patient indentifier rec, rec.s Time event indicator recovery variable ae, ae.s Time event indicator adverse event variable recae, recae.s Time event indicator recovery + adverse event variable rel, rel.s Time event indicator relapse variable srv, srv.s Time event indicator death variable year Year transplant agecl Age transplant proph Prophylaxis match Donor-recipient match dtcens Time censoring dtcens.s Event indicator, 1:censoring occured, 0: absorbing state entered censoring occured","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/ebmtcal.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"European Group for Blood and Marrow Transplantation data — ebmtcal","text":"https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.htmlE","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/msebmtcal.html","id":null,"dir":"Reference","previous_headings":"","what":"European Group for Blood and Marrow Transplantation data — msebmtcal","title":"European Group for Blood and Marrow Transplantation data — msebmtcal","text":"ebmt data mstate format","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/msebmtcal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"European Group for Blood and Marrow Transplantation data — msebmtcal","text":"","code":"msebmtcal"},{"path":[]},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/msebmtcal.html","id":"-msebmtcal-","dir":"Reference","previous_headings":"","what":"'msebmtcal'","title":"European Group for Blood and Marrow Transplantation data — msebmtcal","text":"data frame 15,512 rows 8 columns: id Patient indentifier transition state transition state trans transition number Tstart time entered state '' Tstop time leaving state '' time time state '' status event indicator, 1:transitioned state ''","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_blr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot calibration curves — plot.calib_blr","title":"Plot calibration curves — plot.calib_blr","text":"Creates calibration plots transition probabilities multistate model using data estimated calc_calib_blr. data estimated using binary logistic regression framework inverse probability censoring weights.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_blr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot calibration curves — plot.calib_blr","text":"","code":"# S3 method for calib_blr plot(x, ..., combine = TRUE, ncol = NULL, nrow = NULL)"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_blr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot calibration curves — plot.calib_blr","text":"x Object type 'calib_blr' generated calc_calib_blr ... combine Whether combine one plot using ggarrange, return list individual plots ncol Number columns combined calibration plot nrow Number rows combined calibration plot","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_mlr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot calibration scatter plots — plot.calib_mlr","title":"Plot calibration scatter plots — plot.calib_mlr","text":"Creates calibration plots transition probabilities multistate model using data estimated calc_calib_mlr. data estimated using multinomial logistic regression framework inverse probability censoring weights.","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_mlr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot calibration scatter plots — plot.calib_mlr","text":"","code":"# S3 method for calib_mlr plot(x, ..., combine = TRUE, ncol = NULL, nrow = NULL)"},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/plot.calib_mlr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot calibration scatter plots — plot.calib_mlr","text":"x Object type 'calib_mlr' generated calc_calib_mlr ... combine Whether combine one plot using ggarrange, return list individual plots ncol Number columns combined calibration plot nrow Number rows combined calibration plot","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps0.html","id":null,"dir":"Reference","previous_headings":"","what":"Predicted transition probabilities out of every state at time s = 0 — tps0","title":"Predicted transition probabilities out of every state at time s = 0 — tps0","text":"Predicted transition probabilities every state time s = 0","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predicted transition probabilities out of every state at time s = 0 — tps0","text":"","code":"tps0"},{"path":[]},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps0.html","id":"-tps-","dir":"Reference","previous_headings":"","what":"'tps0'","title":"Predicted transition probabilities out of every state at time s = 0 — tps0","text":"data frame 13,674 rows 14 columns: id Patient indentifier pstate1, pstate2, pstate3, pstate4, pstate5, pstate6 Predicted transition probabilities transitions states 1 6 se1, se2, se3, se4, se5, se6 Standard error predicted transition probabilities transitions states 1 6 j State predicted transition probabilities estimated ","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps100.html","id":null,"dir":"Reference","previous_headings":"","what":"Predicted transition probabilities out of every state at time s = 100 — tps100","title":"Predicted transition probabilities out of every state at time s = 100 — tps100","text":"Predicted transition probabilities every state time s = 100","code":""},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps100.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predicted transition probabilities out of every state at time s = 100 — tps100","text":"","code":"tps100"},{"path":[]},{"path":"https://manchester-predictive-healthcare-group.github.io/CHI-MRC-multi-outcome/reference/tps100.html","id":"-tps-","dir":"Reference","previous_headings":"","what":"'tps100'","title":"Predicted transition probabilities out of every state at time s = 100 — tps100","text":"data frame 13,674 rows 14 columns: id Patient indentifier pstate1, pstate2, pstate3, pstate4, pstate5, pstate6 Predicted transition probabilities transitions states 1 6 se1, se2, se3, se4, se5, se6 Standard error predicted transition probabilities transitions states 1 6 j State predicted transition probabilities estimated ","code":""}]
